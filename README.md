# semy-reservation-system

## 概要

本システムは、NFCリーダーとRaspberry Piを活用した個別予約システムです。学生証をかざすことでGoogle Spreadsheetと連携し、予約状況の確認や新規予約をスムーズに行うことができます。

## 背景・目的

研究室や特定の施設利用における予約管理では、教員の方々の負担増や、予約待ちの際の順番抜かしといった問題が発生していました。本システムはこれらの問題を解決し、より公平で効率的な予約プロセスを実現することを目的として開発されました。

## 作成者

* 田中 雅也
* 江本 舜

## システム構成・設計思想

本システムは、以下の流れで動作します。

1.  **NFC認証**: Raspberry Piに接続されたNFCリーダーに学生証をかざします。
2.  **予約操作**: Google Spreadsheet上に設置された予約ボタンを押すと、予約用のWebインターフェースに遷移します。
3.  **順番確定・予約**: Webインターフェース上で順番を選択したり、直接予約操作を行います。
4.  **リスト更新**: 操作完了後、Google Spreadsheetに戻り、予約者リストに自身の名前が追加・更新されていることを確認できます。

環境としてはRaspberry Piを使用しており、NFCリーダーの他に、物理ボタンによる操作やLCDモニターへの予約者名表示といった、簡易的な電子工作も組み込んでいます。これにより、直感的でわかりやすい操作性を目指しました。

## 主な機能 ✨

* **NFCによるユーザー認証**: 学生証のNFCタグを読み取り、利用者を識別します。
* **Webベースの予約インターフェース**: PCやスマートフォンからアクセス可能な画面で予約操作（順番選択、予約確定）を行います。
* **Google Spreadsheet連携**: 予約情報はリアルタイムでGoogle Spreadsheetに記録・更新され、一覧性が確保されます。
* **予約状況のLCD表示**: Raspberry Piに接続されたLCDモニターに現在の予約者名などを表示します。
* **物理ボタン操作**: Raspberry Piに接続された物理ボタンによる簡易的な操作（機能は `switch.py` に依存）が可能です。

## 使用技術 🛠️

* **ハードウェア**:
    * Raspberry Pi (モデルを記載するとより親切です。例: Raspberry Pi 4 Model B)
    * NFCリーダー (具体的なモデル名があれば記載)
    * LCDディスプレイ (例: 1602 LCD)
    * プッシュボタン等の電子部品
* **ソフトウェア**:
    * **言語**: Python (バージョンを記載すると良いでしょう。例: Python 3.x)
    * **主なライブラリ・フレームワーク**:
        * NFC制御: (例: `libnfc`, `nfcpy` など、実際に使用したライブラリを記載してください)
        * GPIO制御: `RPi.GPIO` (Raspberry PiのGPIOピン操作用)
        * Google API連携: `gspread`, `oauth2client` (Google Sheets API操作用)
        * Webフレームワーク: (例: `Flask`, `Bottle` など、もし使用していれば記載。`templates` フォルダがあるので、何らかのWebフレームワークを使用している可能性が高いです)
    * **データベース/データストレージ**: Google Spreadsheet
    * **その他**: `json` (ユーザーリスト、予約リストの読み書き用)

## 学んだこと 🌟

今回の開発を通じて、私たちは以下のような多くの貴重な学びを得ることができました。

* **ハードウェアとソフトウェアの統合**: Raspberry Piをプラットフォームとして、NFCリーダー、LCDディスプレイ、物理ボタンといったハードウェアと、Pythonで記述された制御ソフトウェア、そしてWebアプリケーション（HTML、CSS）を連携させるシステム構築の経験を深めました。特に、物理的なインタラクションをソフトウェアロジックに結びつける面白さと難しさを実感しました。
* **API連携の実践**: Google Spreadsheet APIを利用し、外部サービスとデータをリアルタイムに送受信する方法を学びました。認証処理やデータの読み書き、エラーハンドリングなど、APIを安全かつ効果的に活用するための知識が身につきました。
* **Webアプリケーション開発の基礎**: Webフレームワーク（もし使用されていれば具体的に記載）を利用したバックエンド処理、そして `HTML`、`CSS` を用いたフロントエンド画面の作成を通じて、Webアプリケーションがどのようにリクエストを受け取り、処理し、応答を返すかという一連の流れを実践的に理解しました。
* **リアルタイム処理の考慮**: 予約システムという特性上、複数ユーザーからの同時アクセスやリアルタイムでの情報更新の重要性を認識し、そのための基本的な設計について考える良い機会となりました。
* **問題解決能力の向上**: 開発過程で発生する予期せぬエラーやハードウェアの動作不良など、様々な問題に直面しました。それらの原因を特定し、解決策を見つけ出すためのデバッグ手法や論理的思考力が鍛えられました。
* **ユーザー中心の設計**: 実際に利用するユーザー（先生や学生）の視点に立ち、どのようにすれば使いやすいシステムになるか、どのような情報が表示されれば分かりやすいかを常に意識して開発を進めることの重要性を学びました。

## 今後の課題 🚀

本システムをさらに発展させるために、以下のような課題や改善点が考えられます。

* **エラーハンドリングの強化**:
    * NFCタグの読み取りエラー、登録されていない学生証の場合の処理。
    * ネットワーク接続が不安定な場合のGoogle Spreadsheetとの連携エラー対応。
    * 予期せぬ入力や操作に対する堅牢性の向上。
* **セキュリティの向上**:
    * Google Spreadsheet APIの認証情報や個人情報のより安全な管理方法の検討。
    * 不正なアクセスや操作を防ぐための対策。
* **機能拡張**:
    * 予約の変更・キャンセル機能の実装。
    * 予約時間の指定機能。
    * 利用履歴の記録と簡易的な統計表示機能。
    * 管理者向けの管理画面（ユーザー登録、予約状況の強制変更など）。
* **UI/UXの改善**:
    * より直感的で分かりやすいWebインターフェースのデザイン。
    * スマートフォンなど、様々なデバイスからのアクセスに対応したレスポンシブデザインの導入。
* **テストの拡充**:
    * ユニットテストや結合テストを導入し、システムの信頼性を高める。

## ファイル構成
はい、承知いたしました。
前回作成したREADME.mdの内容を、そのままMarkdownファイルに貼り付けてご利用いただける形式で以下に記述します。

Markdown

# 個別予約システム

## 概要

本システムは、NFCリーダーとRaspberry Piを活用した個別予約システムです。学生証をかざすことでGoogle Spreadsheetと連携し、予約状況の確認や新規予約をスムーズに行うことができます。

## 背景・目的

研究室や特定の施設利用における予約管理では、教員の方々の負担増や、予約待ちの際の順番抜かしといった問題が発生していました。本システムはこれらの問題を解決し、より公平で効率的な予約プロセスを実現することを目的として開発されました。

## 作成者

* 田中 雅也
* 江本 舜

## システム構成・設計思想

本システムは、以下の流れで動作します。

1.  **NFC認証**: Raspberry Piに接続されたNFCリーダーに学生証をかざします。
2.  **予約操作**: Google Spreadsheet上に設置された予約ボタンを押すと、予約用のWebインターフェースに遷移します。
3.  **順番確定・予約**: Webインターフェース上で順番を選択したり、直接予約操作を行います。
4.  **リスト更新**: 操作完了後、Google Spreadsheetに戻り、予約者リストに自身の名前が追加・更新されていることを確認できます。

環境としてはRaspberry Piを使用しており、NFCリーダーの他に、物理ボタンによる操作やLCDモニターへの予約者名表示といった、簡易的な電子工作も組み込んでいます。これにより、直感的でわかりやすい操作性を目指しました。

## 主な機能 ✨

* **NFCによるユーザー認証**: 学生証のNFCタグを読み取り、利用者を識別します。
* **Webベースの予約インターフェース**: PCやスマートフォンからアクセス可能な画面で予約操作（順番選択、予約確定）を行います。
* **Google Spreadsheet連携**: 予約情報はリアルタイムでGoogle Spreadsheetに記録・更新され、一覧性が確保されます。
* **予約状況のLCD表示**: Raspberry Piに接続されたLCDモニターに現在の予約者名などを表示します。
* **物理ボタン操作**: Raspberry Piに接続された物理ボタンによる簡易的な操作（機能は `switch.py` に依存）が可能です。

## 使用技術 🛠️

* **ハードウェア**:
    * Raspberry Pi (モデルを記載するとより親切です。例: Raspberry Pi 4 Model B)
    * NFCリーダー (具体的なモデル名があれば記載)
    * LCDディスプレイ (例: 1602 LCD)
    * プッシュボタン等の電子部品
* **ソフトウェア**:
    * **言語**: Python (バージョンを記載すると良いでしょう。例: Python 3.x)
    * **主なライブラリ・フレームワーク**:
        * NFC制御: (例: `libnfc`, `nfcpy` など、実際に使用したライブラリを記載してください)
        * GPIO制御: `RPi.GPIO` (Raspberry PiのGPIOピン操作用)
        * Google API連携: `gspread`, `oauth2client` (Google Sheets API操作用)
        * Webフレームワーク: (例: `Flask`, `Bottle` など、もし使用していれば記載。`templates` フォルダがあるので、何らかのWebフレームワークを使用している可能性が高いです)
    * **データベース/データストレージ**: Google Spreadsheet
    * **その他**: `json` (ユーザーリスト、予約リストの読み書き用)

## 学んだこと 🌟

今回の開発を通じて、私たちは以下のような多くの貴重な学びを得ることができました。

* **ハードウェアとソフトウェアの統合**: Raspberry Piをプラットフォームとして、NFCリーダー、LCDディスプレイ、物理ボタンといったハードウェアと、Pythonで記述された制御ソフトウェア、そしてWebアプリケーション（HTML、CSS）を連携させるシステム構築の経験を深めました。特に、物理的なインタラクションをソフトウェアロジックに結びつける面白さと難しさを実感しました。
* **API連携の実践**: Google Spreadsheet APIを利用し、外部サービスとデータをリアルタイムに送受信する方法を学びました。認証処理やデータの読み書き、エラーハンドリングなど、APIを安全かつ効果的に活用するための知識が身につきました。
* **Webアプリケーション開発の基礎**: Webフレームワーク（もし使用されていれば具体的に記載）を利用したバックエンド処理、そして `HTML`、`CSS` を用いたフロントエンド画面の作成を通じて、Webアプリケーションがどのようにリクエストを受け取り、処理し、応答を返すかという一連の流れを実践的に理解しました。
* **リアルタイム処理の考慮**: 予約システムという特性上、複数ユーザーからの同時アクセスやリアルタイムでの情報更新の重要性を認識し、そのための基本的な設計について考える良い機会となりました。
* **問題解決能力の向上**: 開発過程で発生する予期せぬエラーやハードウェアの動作不良など、様々な問題に直面しました。それらの原因を特定し、解決策を見つけ出すためのデバッグ手法や論理的思考力が鍛えられました。
* **ユーザー中心の設計**: 実際に利用するユーザー（先生や学生）の視点に立ち、どのようにすれば使いやすいシステムになるか、どのような情報が表示されれば分かりやすいかを常に意識して開発を進めることの重要性を学びました。

## 今後の課題 🚀

本システムをさらに発展させるために、以下のような課題や改善点が考えられます。

* **エラーハンドリングの強化**:
    * NFCタグの読み取りエラー、登録されていない学生証の場合の処理。
    * ネットワーク接続が不安定な場合のGoogle Spreadsheetとの連携エラー対応。
    * 予期せぬ入力や操作に対する堅牢性の向上。
* **セキュリティの向上**:
    * Google Spreadsheet APIの認証情報や個人情報のより安全な管理方法の検討。
    * 不正なアクセスや操作を防ぐための対策。
* **機能拡張**:
    * 予約の変更・キャンセル機能の実装。
    * 予約時間の指定機能。
    * 利用履歴の記録と簡易的な統計表示機能。
    * 管理者向けの管理画面（ユーザー登録、予約状況の強制変更など）。
* **UI/UXの改善**:
    * より直感的で分かりやすいWebインターフェースのデザイン。
    * スマートフォンなど、様々なデバイスからのアクセスに対応したレスポンシブデザインの導入。
* **テストの拡充**:
    * ユニットテストや結合テストを導入し、システムの信頼性を高める。

## ファイル構成

.
├── static/              # CSSファイルや画像ファイル
│   └── style.css        # (例)
├── templates/           # HTMLテンプレートファイル
│   ├── error.html
│   └── reserve.html
├── nfc_reader.py        # NFC読み取り処理のメインプログラム
├── nfc_reader_lcd.py    # NFC読み取りとLCD表示処理のプログラム
├── switch.py            # 物理ボタンスイッチ関連のプログラム
├── user_list.json       # ユーザー情報管理用ファイル
└── reservation_list.json # 予約情報管理用ファイル
